# Отчет КР-3 ПО КПО

---

## Архитектура

- **API Gateway** — точка входа для всех запросов, маршрутизация к сервисам.
- **Orders Service** — управление заказами (создание, просмотр, обновление).
- **Payments Service** — управление и обработка платежей.
- **PostgreSQL** — база данных для микросервисов.
- **RabbitMQ** — брокер сообщений для коммуникации между сервисами.
- **Frontend (React)** — SPA-приложение для работы с заказами и платежами.

---

## Сервисы

1. ### API-Gateway
   - Роль: единая точка входа для всех HTTP-запросов к фронту и к микросервисам.
   - Функции:
     - Проксирует и маршрутизирует запросы на соответствующие сервисы (orders-service, payments-service).
     - Позволяет скрыть внутренние адреса сервисов.
     - Может быть местом для будущей аутентификации, логирования, обработки CORS и лимитов.

2. ### Orders-service
   - Роль: Управление заказами пользователей.
   - Функции:
     - CRUD-операции для заказов: создание, просмотр, обновление статуса.
     - Хранение данных о заказах в PostgreSQL.
     - Генерация уникальных идентификаторов для заказов.
     - Отправка событий через RabbitMQ для дальнейшей обработки.
3. ### Payments-service
   - Роль: Управление платежами, связанными с заказами.
   - Функции:
     - CRUD-операции для платежей: создание, просмотр, изменение статуса.
     - Проверка соответствия платежа и заказа (например, оплачен ли заказ).
     - Хранение данных о платежах в PostgreSQL.
     - Получение событий о новых заказах через RabbitMQ.

## Запуск проекта

1. **Клонируйте репозиторий**
   ```bash
   git clone https://github.com/rebys4/Hse-kpo.git
   cd your-repo
   ```
2. **Настройте переменные окружения**
   •	Пример .env-файлов см. в директориях сервисов.
3.	Соберите и запустите через Docker Compose
   ```bash
   docker-compose up --build
   ```
4. **Доступ к сервисам**
   - Frontend: http://localhost:3000
   - API Gateway: http://localhost:8080/api/...
   - Swagger Orders: http://localhost:8083/swagger-ui/index.html
   - Swagger Payments: http://localhost:8082/swagger-ui/index.html
